{"version":3,"sources":["components/Color/color-icon-remove.svg","store/reducers.js","components/AddColorForm/AddColorForm.js","store/actions.js","components/Star/Star.js","components/StarRating/StarRating.js","components/Color/Color.js","components/ColorList/ColorList.js","App.js","index.js"],"names":["module","exports","initialState","id","title","color","rating","AddColorForm","store","text","useRef","className","onSubmit","e","preventDefault","dispatch","type","v4","addColor","current","value","focus","ref","required","placeholder","Star","selected","onClick","f","StarRating","totalStars","onRate","Array","map","star","index","key","Color","this","props","console","log","style","backgroundColor","nextProps","nextState","prevProps","prevState","onRemoveColor","src","iconRemove","alt","width","height","React","Component","ColorList","colors","getState","rateColor","App","createStore","combineReducers","state","action","filter","window","render","ReactDOM","document","getElementById","subscribe"],"mappings":"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","file":"static/js/main.337a2de7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/color-icon-remove.91bebd82.svg\";","import { ADD_COLOR, REMOVE_COLOR, RATE_COLOR } from './actions';\n\nconst initialState = [\n  {\n    id: 1,\n    title: 'Brandy',\n    color: '#87413F',\n    rating: 5,\n  },\n  {\n    id: 2,\n    title: 'Avocado',\n    color: '#568203',\n    rating: 4,\n  },\n  {\n    id: 3,\n    title: 'Black coffee',\n    color: '#3B2F2F',\n    rating: 5,\n  },\n  {\n    id: 4,\n    title: 'Blue sapphire',\n    color: '#126180',\n    rating: 0,\n  },\n];\n\nexport const colorsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_COLOR:\n      return [\n        ...state,\n        {\n          id: action.id,\n          title: action.title,\n          color: action.color,\n          rating: 0,\n        },\n      ];\n    case REMOVE_COLOR:\n      return state.filter((color) => color.id !== action.id);\n    case RATE_COLOR:\n      return state.map((color) =>\n        color.id !== action.id ? color : { ...color, rating: action.rating }\n      );\n    default:\n      return state;\n  }\n};\n","import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { addColor } from '../../store/actions';\nimport './AddColorForm.scss';\n\nconst AddColorForm = ({ store }) => {\n  const text = useRef(null);\n  const color = useRef(null);\n\n  const submit = (e) => {\n    e.preventDefault();\n    store.dispatch(addColor(text.current.value, color.current.value));\n    text.current.value = '';\n    color.current.value = '';\n    text.current.focus();\n  };\n\n  return (\n    <form className=\"add-color-form\" onSubmit={submit}>\n      <input\n        className=\"add-color-form__input\"\n        ref={text}\n        type=\"text\"\n        required\n        placeholder=\"Заголовок цвета...\"\n      />\n      <input\n        className=\"add-color-form__input add-color-form__input--color\"\n        ref={color}\n        type=\"color\"\n        required\n      />\n      <button className=\"add-color-form__button\" type=\"submit\">\n        Добавить цвет\n      </button>\n    </form>\n  );\n};\n\nAddColorForm.propTypes = {\n  store: PropTypes.object,\n};\n\nexport default AddColorForm;\n","import { v4 } from 'uuid';\n\nexport const ADD_COLOR = 'ADD_COLOR';\nexport const REMOVE_COLOR = 'REMOVE_COLOR';\nexport const RATE_COLOR = 'RATE_COLOR';\n\nexport const addColor = (title, color) => ({\n  type: ADD_COLOR,\n  id: v4(),\n  title,\n  color,\n});\n\nexport const removeColor = (id) => ({\n  type: REMOVE_COLOR,\n  id,\n});\n\nexport const rateColor = (id, rating) => ({\n  type: RATE_COLOR,\n  id,\n  rating,\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Star.scss';\n\nconst Star = ({ selected = false, onClick = (f) => f }) => (\n  <div\n    className={selected ? 'star star--selected' : 'star'}\n    onClick={onClick}\n  />\n);\n\nStar.propTypes = {\n  selected: PropTypes.bool,\n  onClick: PropTypes.func,\n};\n\nexport default Star;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Star from './../Star/Star';\nimport './StarRating.scss';\n\nconst StarRating = ({ rating = 0, totalStars = 5, onRate = (f) => f }) => {\n  return (\n    <div className=\"star-rating\">\n      <div className=\"star-rating__list\">\n        {[...Array(totalStars)].map((star, index) => (\n          <Star\n            key={index}\n            selected={index < rating}\n            onClick={() => onRate(index + 1)}\n          />\n        ))}\n      </div>\n      <p className=\"star-rating__stat\">\n        {rating} из {totalStars}\n      </p>\n    </div>\n  );\n};\n\nStarRating.propTypes = {\n  rating: PropTypes.number,\n  totalStars: PropTypes.number,\n  onRate: PropTypes.func,\n};\n\nexport default StarRating;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport iconRemove from './color-icon-remove.svg';\nimport StarRating from './../StarRating/StarRating';\nimport './Color.scss';\n\nclass Color extends React.Component {\n  // UNSAFE_componentWillMount\n  componentWillMount() {\n    const { id } = this.props;\n    console.log('componentWillMount color id', id);\n    this.style = {\n      backgroundColor: '#f1f1f1',\n    };\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    const { rating, id } = this.props;\n    console.log('shouldComponentUpdate color id', id);\n    return rating !== nextProps.rating;\n  }\n\n  // UNSAFE_componentWillUpdate\n  componentWillUpdate(nextProps, nextState) {\n    const { id } = this.props;\n    console.log('componentWillUpdate color id', id);\n    this.style = { backgroundColor: null };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { id } = this.props;\n    console.log('componentDidUpdate color id', id);\n  }\n\n  render() {\n    const {\n      color,\n      title,\n      rating = 0,\n      onRate = (f) => f,\n      onRemoveColor = (f) => f,\n    } = this.props;\n\n    return (\n      <div className=\"color\" style={this.style}>\n        <h3 className=\"color__title\">{title}</h3>\n        <div\n          className=\"color__preview\"\n          style={{ backgroundColor: color }}\n        ></div>\n        <div className=\"color__rating\">\n          <StarRating rating={rating} onRate={onRate} />\n        </div>\n        <button className=\"color__button-remove\" onClick={onRemoveColor}>\n          <img src={iconRemove} alt=\"удалить\" width=\"30\" height=\"30\" />\n        </button>\n      </div>\n    );\n  }\n}\n\nColor.propTypes = {\n  color: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  rating: PropTypes.number,\n  onRate: PropTypes.func,\n  onRemoveColor: PropTypes.func,\n};\n\nexport default Color;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Color from './../Color/Color';\nimport { removeColor, rateColor } from '../../store/actions';\nimport './ColorList.scss';\n\nconst ColorList = ({ store }) => {\n  const { colors } = store.getState();\n  return (\n    <div className=\"color-list\">\n      {colors.map((color) => (\n        <Color\n          key={color.id}\n          {...color}\n          onRemoveColor={() => store.dispatch(removeColor(color.id))}\n          onRate={(rating) => store.dispatch(rateColor(color.id, rating))}\n        />\n      ))}\n    </div>\n  );\n};\n\nColorList.propTypes = {\n  store: PropTypes.object,\n};\n\nexport default ColorList;\n","import React from 'react';\nimport AddColorForm from './components/AddColorForm/AddColorForm';\nimport ColorList from './components/ColorList/ColorList';\nimport './App.scss';\n\nconst App = ({ store }) => {\n  return (\n    <div className=\"app\">\n      <AddColorForm store={store} />\n      <ColorList store={store} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, combineReducers } from 'redux';\nimport { colorsReducer } from './store/reducers';\nimport App from './App';\nimport './index.scss';\n\nconst store = createStore(\n  combineReducers({\n    colors: colorsReducer,\n  })\n);\n\nwindow.store = store;\n\nconst render = () =>\n  ReactDOM.render(<App store={store} />, document.getElementById('root'));\n\nstore.subscribe(render);\n\nrender();\n"],"sourceRoot":""}